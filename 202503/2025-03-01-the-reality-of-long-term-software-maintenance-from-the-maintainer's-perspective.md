# The reality of long-term software maintenance from the maintainer's perspective
- URL: https://www.construct.net/en/blogs/ashleys-blog-2/reality-long-term-software-1892
- Added At: 2025-03-01 13:23:15

## TL;DR
本文通过作者维护大型软件项目的经验，揭示了长期维护的复杂性，强调初始代码仅占工作量的一小部分，后续维护才是主要挑战。文章通过建筑类比和实际案例，说明了外部贡献者提交的代码可能带来长期负担，呼吁对软件改进持更现实的态度。

## Summary
1. **背景**：
   - **问题发现**：作者在阅读关于Linux内核争议的文章后，意识到很少有人真正理解长期维护大型软件项目的现实，即使是经验丰富的开发者也可能缺乏这种理解。
   - **常见误解**：开发者常有的误解包括认为某些功能可以在短时间内完成、建议集成现有库、提交原型代码、提议将插件内置到产品中，或认为开源项目应该接受大量代码贡献。

2. **维护的现实**：
   - **工作量分配**：编写初始代码仅占整个工作量的25%，其余75%是维护工作，包括测试、修复、优化、升级、重构、客户支持、文档编写等。
   - **项目规模**：以作者的浏览器游戏和动画工具Construct为例，代码行数达到75万行，且已经维护了10年。
   - **对比其他项目**：浏览器、操作系统等项目的代码量更大，初始代码可能仅占10%甚至更少。

3. **维护者的视角**：
   - **责任转移**：外部贡献者提交大量代码后可能突然消失，留下维护者承担后续的维护工作，这可能导致维护者的工作量增加4到10倍。
   - **外交难题**：如何礼貌地拒绝看似慷慨的贡献者是一个棘手的问题，Linux内核争议中的一部分问题就源于此。

4. **建筑类比**：
   - **贡献者角色**：假设一个年轻的建筑师免费为你的房子建造一个扩展部分，使用廉价材料和基本技术，短期内看似可行，但长期维护问题频发。
   - **维护困境**：扩展部分可能需要彻底重建，但重建过程复杂且昂贵，最终可能得不偿失。

5. **软件维护的挑战**：
   - **Construct 2的例子**：使用社区贡献的存储插件，尽管已经替换成内部插件，但仍面临向后兼容问题。
   - **外包开发的困境**：外包开发者提交的代码风格不同，难以维护，最终不得不重写。
   - **第三方库的问题**：使用第三方库后，开发者可能停止支持，导致长期维护困难。
   - **原型代码的局限**：贡献者仅完成了一小部分工作，长期维护的复杂性被忽视。

6. **开源项目的挑战**：
   - **代码审查的严格性**：开源项目需要对代码贡献进行严格审查，否则项目可能崩溃。
   - **社区的排外性**：Linux内核社区倾向于接受长期贡献者的代码，而对新贡献者持怀疑态度，这可能导致社区看起来不友好。

7. **结论**：
   - **长期维护的重要性**：软件维护类似于建筑维护，随着时间的推移，软件也需要持续的修复和升级。
   - **维护者的责任**：维护者在长期项目中承担了大部分工作，贡献者提交的代码实际上是将大部分责任转移给了维护者。
   - **现实主义的态度**：讨论软件改进时应更加现实，考虑到长期维护的复杂性和维护者的责任。
