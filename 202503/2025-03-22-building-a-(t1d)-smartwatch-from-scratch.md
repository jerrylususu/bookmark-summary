# Building a (T1D) Smartwatch from Scratch
- URL: https://andrewchilds.com/posts/building-a-t1d-smartwatch-from-scratch
- Added At: 2025-03-22 13:37:39

## TL;DR


作者为患1型糖尿病的儿子开发儿童智能手表，整合CGM数据监测、触觉警报及游戏化界面。项目攻克硬件集成、蓝牙优化、机械设计等难题，制成防水原型，支持5分钟血糖更新及个性化表盘。原型通过半年测试但量产需解决电池寿命、供应链及医疗认证问题，凸显个体开发者利用开源技术突破医疗硬件门槛的潜力与挑战。

## Summary


作者为患有1型糖尿病（T1D）的儿子开发了一款专为儿童设计的简易智能手表，旨在解决现有设备（如胰岛素泵、Apple Watch）在数据监测、用户体验及安全性方面的不足。项目核心目标包括：提供简洁无干扰的CGM数据展示、可靠触觉警报（如低血糖预警）、耐用防水设计、以及通过游戏化界面提升血糖监测积极性。

**开发挑战与解决方案：**
1. **硬件选型与集成**：初期采用M5Stick模块测试，但电池续航不足；改用ESP32-S3芯片设计定制PCB，通过KiCad完成电路设计，并增加四层板以优化空间布局。挑战包括电池连接稳定性、元件布局调试（如显示屏与电路板间距）及成本控制（单台成本约50美元，含PCB生产费用）。

2. **蓝牙连接优化**：因iOS后台限制导致数据获取不稳定，最终通过让手表主动发起BLE连接请求（而非依赖手机App后台任务），实现每5分钟可靠获取Dexcom血糖数据，数据延迟不超过数秒。

3. **机械设计与材料**：使用Fusion 360建模，经多次3D打印测试后选择多射滴注（MJF）工艺制造耐用尼龙外壳，搭配Krylon喷漆实现防水与美观；显示屏选型兼顾成本与功耗，采用TFT IPS屏，通过旧式墨西哥煎饼压机解决OCA光学胶层气泡问题。

4. **触觉反馈系统**：选用ERM振动马达替代LRA电机，因后者震动幅度不足；开发算法通过血糖值与变化速率生成不同振动模式（如快速脉冲预警急速低血糖），帮助用户通过触觉感知血糖趋势。

5. **电池续航与安全**：最终原型实现3-7天续航（因未知原因个体差异显著），但发现低电量时充电芯片故障。通过ESP-IDF框架强化固件安全，放弃加密以延续开源计划。

**成果与局限性：**
- **成功点**：6个月内完成可穿戴原型，支持防水、触觉警报及自定义表盘，作者父子持续佩戴测试半年，玻璃屏幕曾破裂但可自行维修。
- **未解决难题**：量产级电池寿命优化、硬件供应链（依赖海外厂商降低成本）、医疗器械认证（如FDA、FCC）及市场推广路径。作者认为商业化需面对生产组装、社区合作及竞争（如Glowcose、SugarPixel等产品）的复杂性。

**经验总结：**
- 硬件开发需跨学科知识整合（电子、机械、软件），且原型到量产存在巨大鸿沟。
- AI工具（如ChatGPT）显著加速了开发进程。
- 开源模式可能是小众医疗设备的最佳商业化路径，但需应对技术迭代与持续维护的挑战。

项目展示了个体开发者通过现有开源生态与制造资源实现医疗技术创新的潜力，同时突显医疗硬件创业在工程、商业与监管层面的多重门槛。
