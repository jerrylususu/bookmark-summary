# Smuggling arbitrary data through an emoji
- URL: https://paulbutler.org/2025/smuggling-arbitrary-data-through-an-emoji/
- Added At: 2025-03-01 10:44:49

## TL;DR
文章探讨了在表情符号中编码任意数据的可能性，利用Unicode变体选择器实现隐藏信息，并提供了Rust代码示例。讨论了潜在滥用的风险及LLM对此类数据的处理能力。

## Summary
1. **引言**：
   - 通过Hacker News上的一个评论引发了对在表情符号中编码任意数据的讨论。
   - 提出了是否可以在单个表情符号中编码无限量数据的疑问。

2. **简短回答**：
   - 是的，可以通过非ZWJ（零宽度连接符）的方法在任意Unicode字符中编码数据。

3. **隐藏信息示例**：
   - 给出了一个包含隐藏信息的句子，通过特定解码器可以提取出隐藏的文本。

4. **背景知识**：
   - Unicode将文本表示为一系列码点，每个码点对应一个数字。
   - 某些字符可能由多个码点表示，如Devanagari脚本中的字符。

5. **变体选择器**：
   - Unicode定义了256个变体选择器（VS-1到VS-256），用于修改前面字符的呈现方式。
   - 变体选择器本身没有屏幕上的表示，但可以在复制粘贴时保留。
   - 由于256个变体选择器正好可以表示一个字节，因此可以在任意Unicode字符中隐藏一个字节的数据。

6. **编码方法**：
   - 通过将字节转换为相应的变体选择器，并将它们连接在一起，可以在任意字符后编码任意字节流。
   - 提供了Rust代码示例，展示了如何将字节转换为变体选择器并进行编码。

7. **解码方法**：
   - 解码过程同样简单，通过将变体选择器转换回字节来提取隐藏的数据。
   - 提供了Rust代码示例，展示了如何解码变体选择器并提取原始数据。

8. **潜在滥用**：
   - 变体选择器的使用可能会被滥用，如绕过人工内容过滤器或为文本添加水印。
   - 强调了这种技术的不正当性，并警告不要在实际中使用。

9. **与LLM的互动**：
   - 讨论了语言模型（LLM）如何处理隐藏数据。
   - 一些模型可以通过代码解释器解码隐藏的数据。

10. **附加信息**：
    - 提供了OpenAI tokenizer的示例，展示了变体选择器如何被保留为token。
    - 展示了Gemini 2 Flash和Claude在代码解释器的帮助下解码隐藏信息的示例。
