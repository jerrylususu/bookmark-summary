# The Hierarchy of Hazard Controls
- URL: https://www.hillelwayne.com/post/hoc/
- Added At: 2025-03-05 13:24:52

## TL;DR
文章介绍了控制危害的层次结构（HoC）在软件工程中的应用，包括消除、替代、工程控制、行政控制和个人防护设备五个层次，并讨论了其在软件环境中的具体应用、注意事项及潜在风险。

## Summary
1. **概述**：作者通过与一名机械工程师的对话，介绍了控制危害的层次结构（Hierarchy of Controls, HoC），这是一个在工作场所安全中非常重要的概念。

2. **软件工程的应用**：
   - **问题背景**：作者回忆了自己作为初级开发者时，因误操作导致生产环境数据库崩溃的经历，引出如何将HoC应用于软件工程的讨论。
   - **危害定义**：在软件环境中，危害是指可能导致数据丢失或系统崩溃的因素，如不受限制的生产环境访问权限。

3. **五个控制层次**：
   - **消除（Elimination）**：
     - **定义**：消除是指完全去除危害，确保它不再存在。
     - **案例**：在工作场所安全中，如果减少跌倒风险，可以停止在高处作业。在软件中，可以考虑消除生产环境或数据库，但这通常不实际。
     - **应用**：对于非必要的危险事物，消除是最有效的控制手段。例如，卸载可能导致安全漏洞的Adobe Flash。

   - **替代（Substitution）**：
     - **定义**：替代是指通过更换材料或过程来降低危害的严重性。
     - **案例**：在软件中，可以使用内存安全的编程语言（如Rust）替代不安全的语言（如C）。
     - **应用**：通过使用只读数据库副本或事件源模型，减少误操作导致的数据丢失风险。

   - **工程控制（Engineering Controls）**：
     - **定义**：通过物理设计来减少员工接触危害的可能性，同时允许员工继续工作。
     - **案例**：通过更好的监控和权限管理，限制对生产环境的访问或防止误操作。
     - **应用**：例如，使用自动注销功能防止闲置的生产终端被误操作，或通过更严格的权限策略限制删除数据库的操作。

   - **行政控制（Administrative Controls）**：
     - **定义**：通过改变工作方式或提供相关程序、培训和警告来减少危害。
     - **案例**：制定政策限制初级开发者访问生产环境，或通过培训视频提高对数据库误操作的风险意识。
     - **应用**：通过减少工作时间和加班，确保工程师保持清醒状态，或通过模拟操作问题进行定期演练。

   - **个人防护设备（Personal Protective Equipment, PPE）**：
     - **定义**：提供服装和设备来保护员工免受危害。
     - **案例**：在软件中，PPE的应用较少，但在安全领域（如使用2FA或密码管理器）和减少开发者常见伤害（如腕管综合症）方面有一定的适用性。
     - **应用**：通过使用不同颜色的终端背景区分开发和生产环境，或在安全领域使用安全浏览器和双重认证。

4. **注意事项**：
   - **HoC的设计初衷**：最初是为保护人免受机器伤害，因此在软件中的应用需要进行一些调整。
   - **分类的模糊性**：某些控制措施可能同时属于工程控制和行政控制，如“全名确认框”。
   - **预防与恢复**：HoC主要关注预防伤害，而不包括恢复措施，如数据库备份或事后分析。

5. **控制的综合应用**：
   - **成本与效果**：高层次的控制更有效但实现难度大，低层次的控制则更灵活且成本较低。
   - **软件的优势**：软件易于快速修改，因此工程控制更为有效，且可以将行政控制转化为工程控制。

6. **控制可能引入新风险**：
   - **案例分析**：任何控制措施都可能引入新的风险，如过多的警告可能导致警报疲劳，或严格的访问政策可能延长问题解决时间。
   - **软件中的应用**：例如，替换为仅追加的数据库可能需要重新培训和软件更改，增加出错和新漏洞的可能性。

7. **总结**：作者认为HoC是一个很好的概念，值得在软件工程中应用，并强调了控制的综合应用和潜在风险的重要性。
