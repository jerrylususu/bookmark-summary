# What's involved in getting a "modern" terminal setup?
- URL: https://jvns.ca/blog/2025/01/11/getting-a-modern-terminal-setup/
- Added At: 2025-01-12 11:55:29
- [Link To Text](2025-01-12-what's-involved-in-getting-a-modern-terminal-setup_raw.md)

## TL;DR
现代终端体验需要多方面的配置，包括支持多行复制粘贴、无限历史记录、24位颜色、剪贴板集成等功能。推荐使用`fish`或`zsh`作为shell，支持24位颜色的终端模拟器，以及开箱即用的文本编辑器如`micro`或`helix`。配置过程中需注意相互影响，逐步调整，找到适合自己的稳定状态。

## Summary
1. **现代终端体验的定义**：
   - **多行复制粘贴支持**：粘贴多条命令时不应立即执行（由**shell**和**终端模拟器**负责）。
   - **无限shell历史记录**：命令应永久保存，而不是在500条历史记录后删除（由**shell**负责）。
   - **有用的提示符**：提示符应显示当前目录和git分支（由**shell**负责）。
   - **24位颜色支持**：便于主题化（由**终端模拟器**负责）。
   - **剪贴板集成**：在vim和操作系统之间无缝复制粘贴（由**文本编辑器**和**操作系统/终端模拟器**负责）。
   - **良好的自动补全**：如git命令的自动补全（由**shell**负责）。
   - **ls命令的颜色支持**（由**shell配置**负责）。
   - **喜欢的终端主题**：终端外观应与编辑器主题匹配（由**终端模拟器**和**文本编辑器**负责）。
   - **自动终端修复**：当程序输出奇怪的转义码时，终端应自动重置（由**shell**负责）。
   - **键绑定**：如`Ctrl+左箭头`应正常工作（由**shell**或**应用程序**负责）。
   - **滚动支持**：在`less`等程序中使用滚轮（由**终端模拟器**和**应用程序**负责）。

2. **实现现代终端体验的方法**：
   - 使用`fish` shell，并配置`EDITOR`环境变量和`ls`别名。
   - 使用支持24位颜色的终端模拟器，如GNOME Terminal、Terminator或iTerm。
   - 使用`neovim`，并基于多年的配置。
   - 使用`base16`框架进行主题化。

3. **开箱即用的现代终端体验选项**：
   - **shell**：`fish`或`zsh`（搭配`oh-my-zsh`）。
   - **终端模拟器**：支持24位颜色的终端，如GNOME Terminal、iTerm、kitty等。
   - **shell配置**：设置`EDITOR`环境变量和`ls`别名。
   - **文本编辑器**：推荐`micro`或`helix`，提供开箱即用的体验。

4. **现代终端体验的挑战**：
   - **shell问题**：
     - `bash`和`zsh`默认体验不佳，需自定义提示符、git补全和历史记录。
     - `fish`虽好，但非POSIX兼容，切换困难。
     - `oh-my-zsh`虽流行，但配置复杂且可能拖慢系统。
   - **文本编辑器问题**：
     - `vim`和`emacs`需大量配置。
     - `nano`功能有限。
     - `micro`和`helix`提供较好开箱体验，但可能遇到小众编辑器的问题。
   - **应用程序问题**：
     - 某些程序（如`sqlite3`）可能缺少功能，需额外配置。
     - 使用更现代的终端工具（如`htop`）可提升体验，但需时间发现和适应。

5. **配置的相互影响**：
   - 更改一个配置可能影响整个工作流，如使用`tmux`需考虑剪贴板同步和颜色管理。
   - 依赖的功能（如OSC 52支持）可能在切换终端时失效。

6. **逐步更改配置**：
   - 终端配置更改应缓慢进行，避免一次性大改导致问题难以排查。
   - 例如，从`ls`切换到`eza`可能需要长时间适应。

7. **总结**：
   - 配置现代终端体验并不容易，需不断尝试和调整。
   - 没有一种完美配置适用于所有场景，需找到适合自己的稳定状态，并接受新工具可能带来的变化。
