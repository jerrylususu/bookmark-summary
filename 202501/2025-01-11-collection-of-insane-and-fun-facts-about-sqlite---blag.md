# Collection of insane and fun facts about SQLite - blag
- URL: https://avi.im/blag/2024/sqlite-facts/
- Added At: 2025-01-11 06:58:23

## TL;DR
SQLite是全球最广泛使用的数据库，由三人团队维护，起源于美国军舰上的需求。它采用公共领域许可证，不接受外部贡献，测试代码量远超实际代码量。SQLite通过销售许可证和支持服务盈利，性能优异，但存在一些限制。其独特性和高效性使其在数据库领域占据重要地位。

## Summary
1. **SQLite的普及性**：
   - SQLite是最广泛部署和使用的数据库，全球有超过一万亿个SQLite数据库在活跃使用。
   - 它可能比其他所有数据库引擎加起来还要常用，数十亿份SQLite副本存在于各种设备中。

2. **维护团队**：
   - SQLite由三个人维护，他们不接受外部贡献。

3. **公司背景**：
   - SQLite背后的公司是Hwaci，该公司还涉足音乐领域。

4. **起源故事**：
   - SQLite起源于美国军舰USS Oscar Austin上的软件开发需求，为了解决服务器宕机时软件停止工作的问题，D. Richard Hipp提出了无服务器数据库的概念。

5. **许可证和贡献**：
   - SQLite不采用标准的开源许可证（如MIT或GPL），而是发布到公共领域，这在某些国家可能存在问题。
   - SQLite不接受外部贡献，贡献是邀请制的，并且需要签署将贡献置于公共领域的宣誓书。

6. **测试和质量保证**：
   - SQLite的测试代码量是实际代码量的600倍，测试覆盖了100%的分支和MC/DC。
   - 主要测试套件是用Tcl编写的，部分测试套件（如TH3）是专有的，不对外公开。

7. **商业模式**：
   - SQLite通过销售许可证、付费支持、维护服务、联盟会员和商业扩展来产生收入。

8. **代码伦理**：
   - SQLite没有行为准则，而是采用了源自圣本笃规则的伦理准则。

9. **性能**：
   - SQLite非常快，在某些用例中可以替代文件系统，速度提升可达35%。
   - 在某些情况下，SQLite甚至比Redis更快。

10. **特性和限制**：
    - SQLite采用单写模型，不支持多并发写操作。
    - 默认情况下，外键是禁用的，类型是“弱类型”的，称为“类型亲和性”。
    - 许多在其他数据库中常见的ALTER命令在SQLite中不可用。

11. **趣闻**：
    - SQLite的默认前缀从`sqlite_`改为`etilqs_`，因为用户开始在半夜打电话给开发者。
    - SQLite非常重视向后兼容性，即使发现了bug也不会修复，以保持兼容性。

12. **开发者背景**：
    - SQLite的作者D. Richard Hipp还开发了自己的版本控制系统Fossil和解析器生成器Lemon。
    - SQLite的B-Tree算法是基于Donald Knuth的《计算机程序设计艺术》中的算法编写的。

13. **发音**：
    - SQLite的正确发音是“Ess-Cue-El-ite”，但作者表示可以接受任何发音方式。

14. **总结**：
    - SQLite是一个非常独特且广泛使用的数据库，其开发、测试和商业模式都体现了其独特性和高效性。
