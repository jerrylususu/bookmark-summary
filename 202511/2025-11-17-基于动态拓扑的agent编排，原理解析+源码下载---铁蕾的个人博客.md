# 基于动态拓扑的Agent编排，原理解析+源码下载 - 铁蕾的个人博客
- URL: https://zhangtielei.com/posts/blog-bridgic-dynamic-topology.html
- Added At: 2025-11-17 13:55:17
- Tags: #read #llm #deepdive

## TL;DR
Bridgic框架通过静态、动态和自主编排三级动态性，支持从固定工作流到LLM驱动的动态拓扑调整。核心基于动态有向图机制实现执行调度，并通过声明式和Core API提供编排能力。当前在组件化表达上存在局限，作者未来将优化该特性。

## Summary
这篇文章介绍了Bridgic框架中基于动态拓扑的Agent编排技术，分析了其原理和实现方式，并提供了源码下载链接。主要内容结构化总结如下：

1. **编排的动态性分级**：文章将Agent编排按动态性从弱到强分为三类：
   - **静态编排**：执行路径提前固定，通过Core API或声明式API（如`@worker`）定义依赖关系。示例`AdderAutoma`展示了线性加并发的工作流。
   - **动态编排**：执行路径依赖输入数据动态决定，但worker集合固定。使用`ferry_to` API实现分支和循环逻辑，示例`Sum100Automa`演示了累加循环。
   - **自主编排**：拓扑结构在执行中动态变化，支持LLM驱动的任务规划。示例`TravelPlanner`通过`add_worker`动态添加工具调用worker，适应Agent自主性需求。

2. **核心机制**：
   - **动态有向图（DDG）**：底层调度核心，将执行分为动态步（Dynamic Step），每个步骤在异步事件循环迭代中处理worker执行和延迟任务（Deferred Task），实现拓扑修改和调度。
   - **API设计**：Core API（如`add_func_as_worker`）提供基础能力，声明式API（如`@worker`）构建其上，强调统一概念基础。`ferry_to`用于动态路由，与静态依赖协同工作。

3. **局限性**：当前代码中直接调用`add_worker`等API可能不够自然，作者预告将推出上层特性以优化动态性和组件化表达。

4. **资源链接**：提供Bridgic框架源码、文档及示例（如`ReActAutoma`和`TravelPlanner`）的GitHub地址，鼓励社区参与。
