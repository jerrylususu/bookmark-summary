# Programmers and Sadomasochism
- URL: https://apenwarr.ca/log/20090222
- Added At: 2025-11-21 16:12:52
- Tags: #read #people

## TL;DR
文章通过HTML属性示例，比较了严格（如XML）与宽松（如HTML）解析器的行为，主张遵循Postel定律，建议采用宽容的解析策略来提高互操作性，认为严格验证反而增加沟通成本，不利于实际应用。

## Summary
本文通过一个HTML属性的示例，比较了HTML和XML解析器的行为差异，并讨论了严格解析与宽松解析的优劣。

**核心论点**：  
- 作者认为，XML解析器严格拒绝非标准输入（如未加引号的属性值）是无效的，而HTML解析器因需兼容用户需求而更宽松。  
- 主张遵循Postel定律（发送方保守，接收方宽松），以提高互操作性，而非强制严格验证。

**关键分析**：  
- **问题示例**：HTML代码`<div align=right>Hello, world!</div>`虽不符合XML标准，但所有浏览器都能解析，而严格XML解析器会报错。  
- **选项对比**：  
  - 选项1（严格解析）：接收方拒绝无效数据，导致沟通中断和额外成本。  
  - 选项2（宽松解析）：接收方容忍错误，实现无缝处理。  
  - 选项3（理想情况）：发送方主动确保数据有效，但现实中难实现。  
- 作者指出，严格解析（选项1）实际未改善互操作性，反而增加痛苦；宽松解析（选项2）更实用。  
- **Postel定律应用**：互联网成功基于接收方宽容， XML社区过度强调严格性违背此原则。

**反驳与补充**：  
- 作者澄清：文件格式差异源于生成方错误，而非解析方；严格解析器无法解决语义差异（如CSS渲染问题）。  
- 强调互操作性依赖双方合作，单方严格只会导致失败。

**结论**：程序员应优先选择宽容的解析策略，以实际解决问题，而非追求理论完美。
