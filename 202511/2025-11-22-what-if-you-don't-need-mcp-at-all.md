# What if you don't need MCP at all?
- URL: https://mariozechner.at/posts/2025-11-02-what-if-you-dont-need-mcp/
- Added At: 2025-11-22 07:32:00
- Tags: #read #llm
- [Link To Text](2025-11-22-what-if-you-don't-need-mcp-at-all_raw.md)

## TL;DR
本文提倡用自定义命令行工具和代码替代复杂的MCP服务器，以浏览器工具为例展示了简单方案的优越性。通过短小精悍的脚本实现浏览器控制、页面操作等功能，显著节省上下文资源且易于扩展。强调利用代码组合性和代理执行能力可构建高效灵活的工作流，适合需要代码执行的场景。

## Summary
本文讨论了使用自定义命令行工具和代码替代模型调用协议（MCP）服务器的方法，以浏览器开发工具为例，论证了简单方案的优越性。

### 背景与动机
- **MCP服务器的局限性**：作者指出许多流行的MCP服务器过于臃肿，包含大量工具和冗长描述，占用大量上下文资源。它们难以扩展，且结果必须通过代理上下文传递，缺乏组合性。
- **偏爱简单方案**：作者主张利用代理执行Bash命令和编写代码的能力，因为Bash和代码天生具有组合性，且更灵活高效。

### 浏览器工具的实现
作者设计了一组最小化的浏览器工具，通过Node.js脚本和Puppeteer Core实现，仅需少量代码：
- **Start Tool**：启动Chrome浏览器，支持使用默认配置文件。
- **Navigate Tool**：在当前或新标签页导航到指定URL。
- **Evaluate JavaScript Tool**：在页面上下文中执行JavaScript代码。
- **Screenshot Tool**：截取当前视口并返回图片路径。
- **附加工具**：如Pick Tool（交互式选择DOM元素）和Cookies Tool（处理HTTP-only cookie），可根据需求快速扩展。

### 优势分析
- **上下文效率**：自定义工具的README仅225个token，远低于MCP服务器（13k-18k token），节省上下文空间。
- **组合性**：工具输出可直接保存到文件或通过代码处理，避免依赖代理上下文。
- **易扩展性**：添加或修改工具简单快捷，无需理解复杂代码库。
- **实用性**：通过示例（如Hacker News爬虫）展示了工具的高效使用。

### 部署与复用
- 作者将工具脚本集中存放，通过别名和路径配置使多个代理（如Claude Code）可全局调用。
- 推荐使用目录引用（如`@README.md`）加载工具说明，避免技能自动发现的不稳定性。

### 结论
- 自定义工具方案灵活、高效，适用于各种需要代码执行环境的场景。
- 鼓励用户跳出MCP框架，利用代理的代码能力简化工作流，但需自行管理工具结构。
- 示例代码已开源在GitHub，可供参考和复用。
