# You Should Write An Agent
- URL: https://fly.io/blog/everyone-write-an-agent/
- Added At: 2025-11-07 12:32:08
- Tags: #read #llm
- [Link To Text](2025-11-07-you-should-write-an-agent_raw.md)

## TL;DR
通过构建简易Agent可深入理解其原理：仅需少量代码实现对话和工具调用，上下文管理决定性能上限。无需依赖复杂框架，动手实践能快速验证创新思路。当前技术仍处探索期，个人开发者具备低成本快速迭代的优势。

## Summary
## 引言：为何要构建Agent？
作者以学骑自行车和沸水为例，指出有些技术（如LLM Agent）必须亲自动手实践才能深入理解。即使对LLM存在争议（如被批评为“蛇油”），但Agent作为重要概念，值得亲自尝试以形成准确判断。

## 构建Agent的简易性
- **核心代码极简**：仅需少量代码（如使用OpenAI API）即可实现基础Agent，例如一个交互式对话系统。
- **上下文管理直观**：通过维护对话历史（字符串列表）模拟多轮对话，LLM本身是无状态的。
- **工具集成简单**：通过定义函数和JSON描述，可轻松添加工具（如ping命令），Agent能自主调用工具完成任务，无需复杂逻辑。

## 实际应用与扩展
- **超越玩具示例**：通过添加工具（如traceroute）、持久化上下文（如SQLite）或切换编程语言（如Go），可构建实用Agent。
- **避免过度依赖MCP**：MCP仅是插件接口，并非核心技术；自建Agent能更灵活控制架构，避免安全风险。
- **安全与设计挑战**：Agent设计涉及上下文隔离、工具权限管理等安全问题，但可通过编程直接解决。

## 上下文工程的重要性
- **从提示工程到上下文工程**：上下文管理是实际的编程问题，需优化token使用以避免性能下降。
- **灵活架构设计**：可轻松实现子Agent、上下文压缩等功能，创新想法往往30分钟内可验证。

## 行业前景与开放问题
- **快速迭代与创新**：个体开发者可能领先大型公司，因为Agent实验成本低、迭代快。
- **待解决工程问题**：包括平衡不可预测性与结构化、确保结果真实性、多阶段协作机制及成本控制等。

## 结论：动手实践是关键
作者鼓励读者亲自构建Agent，即使最终持批评态度，实践过程也能深化理解。技术尚处早期，个人探索可能推动重大突破。
