# 谈谈工作中的犯错 | CatCoding
- URL: https://catcoding.me/p/avoid-mistake/
- Added At: 2025-11-20 13:31:48
- Tags: #read
- [Link To Text](2025-11-20-谈谈工作中的犯错-catcoding_raw.md)

## TL;DR
文章通过真实案例总结了工作中常见错误类型及教训，如信息泄露、接口问题、并发和配置错误。建议通过防御编程、自动化流程和良好工作习惯，如测试、代码审查和风险控制，来降低犯错风险。强调保持敬畏，避免小错误引发大问题。

## Summary
该文章通过真实案例分享了工作中常见错误类型及其教训，并总结了如何通过防御编程和工作习惯来降低犯错概率。

### 案例分享
- **信息泄露**：大疆前员工因安全意识不足泄露源代码，导致法律追责，反映公司需加强安全培训和监控。
- **退款接口问题**：在支付系统中，因未处理接口的幂等性，重复调用退款造成金钱损失，需通过系统检查避免类似错误。
- **并发问题**：发货系统因未处理好并发控制，导致用户收到多份货物，强调代码中需注意重入和加锁。
- **配置错误**：作者在网关配置正则表达式时引发语法错误，导致全公司系统短暂瘫痪，凸显线上操作的风险和回滚机制的重要性。

### 经验总结
- 错误是个人和团队学习的机会，但应避免低级错误，尤其是安全相关问题。
- **防御编程**：倡导考虑最坏情况，进行单元测试和集成测试，使用如killswitch的开关机制快速回滚，定期清理代码。
- **工作习惯**：强调安全意识，避免手动线上操作，采用自动化流程（如Infrastructure as Code），对危险操作进行Review和批准。

**核心建议**：保持对工作的敬畏之心，小错误可能造成巨大损失，需通过系统性方法降低风险。
