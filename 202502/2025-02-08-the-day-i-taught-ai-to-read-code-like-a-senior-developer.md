# The day I taught AI to read code like a Senior Developer
- URL: https://nmn.gl/blog/ai-senior-developer
- Added At: 2025-02-08 14:17:01

## TL;DR
文章探讨了如何通过上下文感知和模式匹配提升AI对React代码的理解，使其更像资深开发者，而非初级开发者。实验证明，这种改进显著提升了AI的分析能力，并能捕捉未明确训练的内容，强调了代码理解的重要性。

## Summary
1. **背景**：
   - 作者观察到AI在处理React代码库时出现超时错误，意识到AI的代码分析方式更像是刚毕业的初级开发者，而不是资深开发者。

2. **初级与资深开发者的思维差异**：
   - 初级开发者通常从细节入手，容易迷失在代码中。
   - 资深开发者则：
     - 直接跳到核心文件。
     - 按功能分组变更（如“所有认证变更，所有数据库变更”）。
     - 先构建系统架构的 mental model。
     - 然后才深入实现细节。

3. **实验**：
   - 构建了一个**上下文感知的文件分组系统**，将文件按相关功能和大小分组。
   - 改变AI的提示方式，先提供功能组的上下文，再进行分析。

4. **实验结果**：
   - AI的分析能力显著提升，能够捕捉到未明确训练的内容。
   - AI的输出从简单的描述（如“这个文件包含JWT认证逻辑”）变为详细的建议（如“警告：这个认证变更可能影响websocket连接”）。

5. **关键变化**：
   - **上下文优先**：在深入代码前，先加载系统理解。
   - **模式匹配**：按文件分组，识别重复的模式。
   - **影响分析**：考虑变更对整个系统的影响。
   - **历史理解**：跟踪代码为何以某种方式演进。

6. **意外效果**：
   - 系统开始捕捉到未预设的内容：
     - 识别跨功能的代码复制。
     - 标记错误处理模式的不一致。
     - 警告潜在的性能瓶颈。
     - 基于使用模式提出架构改进建议。

7. **重要性**：
   - 当前许多AI驱动的IDE专注于错误的解决方案，即代码生成而非代码理解。
   - 真正的关键是**更好的代码理解**，而不是更好的代码生成。

8. **开放问题**：
   - 何时更新历史理解与保留历史理解之间的平衡。
   - 如何处理系统中不同部分的冲突模式。
   - 是否应在分析中暴露不确定性。

9. **未来方向**：
   - 探讨如何让AI具备资深开发者的直觉：
     - 识别技术债。
     - 提出架构改进。
     - 从使用模式中捕捉安全问题。
     - 理解团队的隐性约定。
