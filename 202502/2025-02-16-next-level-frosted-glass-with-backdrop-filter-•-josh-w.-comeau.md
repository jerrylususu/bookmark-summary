# Next-level frosted glass with backdrop-filter • Josh W. Comeau
- URL: https://www.joshwcomeau.com/css/backdrop-filter/
- Added At: 2025-02-16 07:09:05

## TL;DR
Josh W. Comeau分享如何使用`backdrop-filter: blur()`创建逼真的磨砂玻璃效果，详解优化步骤、浏览器兼容性及3D边缘效果，并提供完整代码。

## Summary
1. **简介**：作者Josh W. Comeau分享了他最喜欢的CSS技巧之一：使用`backdrop-filter: blur()`创建磨砂玻璃效果。他提到这一技巧几乎在他参与的每个项目中都会使用，包括他的博客。

2. **示例演示**：
   - 通过一个示例网站展示如何使用`backdrop-filter`创建玻璃效果的标题。
   - 当内容（如杯子蛋糕）移动到标题后面时，会显得模糊，类似于磨砂玻璃的效果。

3. **效果优化**：
   - **常见问题**：在实际应用中，磨砂玻璃效果通常缺少一些关键的优化，导致效果不够逼真。
   - **改进目标**：通过一些小改动，可以使磨砂玻璃效果更加丰富和真实。

4. **CSS滤镜**：
   - **基本概念**：CSS通过`filter`属性提供对SVG滤镜的快速访问，例如`filter: blur()`可以给元素添加高斯模糊。
   - **其他滤镜选项**：还包括调整色调、亮度等，类似于图像编辑软件中的功能。

5. **backdrop-filter的使用**：
   - **基本用法**：`backdrop-filter`允许我们为元素背后的内容应用滤镜，常见用途是模糊背景以创建磨砂玻璃效果。
   - **示例**：通过一个示例展示如何使用`backdrop-filter`模糊标题背后的内容。

6. **问题分析**：
   - **算法局限**：`backdrop-filter`算法只考虑直接位于元素后面的像素，对于模糊效果，这可能导致附近的内容未被模糊，效果不够逼真。
   - **真实玻璃效果**：现实中的磨砂玻璃会反射并模糊附近的内容，因此需要改进算法以考虑附近的像素。

7. **解决方案**：
   - **扩展元素**：通过扩展元素的范围，使其覆盖附近的内容，然后使用遮罩（mask）修剪多余部分，以保持视觉上的原始尺寸。
   - **具体步骤**：
     - 将`backdrop-filter`应用到子元素，并使其高度为父元素的两倍。
     - 使用`mask-image`遮罩子元素的超出部分，确保只有父元素的区域可见。

8. **指针事件问题**：
   - **问题**：由于遮罩隐藏了部分元素，导致附近的元素无法点击或选择。
   - **解决方案**：通过`pointer-events: none`设置，使遮罩元素在点击和触摸事件中被忽略。

9. **顶部闪烁问题**：
   - **问题**：当内容从视口顶部移出时，模糊效果会失效，导致颜色闪烁。
   - **解决方案**：通过添加渐变背景遮罩，隐藏闪烁的颜色，保持磨砂玻璃效果。

10. **玻璃厚度优化**：
    - **问题**：在某些情况下，磨砂玻璃效果可能过于明显，影响可读性。
    - **解决方案**：
      - 增加模糊半径以减少可见的模糊内容。
      - 为父元素添加半透明背景颜色，使文本更易读。

11. **浏览器支持**：
    - `backdrop-filter`和`mask-image`在主流浏览器中得到广泛支持，但需要`-webkit`前缀。
    - 作者提供了适用于旧浏览器的兼容代码，确保在缺少这些特性的浏览器中仍能正常显示。

12. **玻璃边缘效果**：
    - **3D效果**：通过添加第二个模糊元素，模拟3D玻璃的边缘效果，使其看起来更加立体。
    - **实现方式**：使用不同的模糊半径和亮度滤镜，创建底部边缘的模糊效果。

13. **最终代码**：
    - 作者提供了包含所有优化的完整代码，并建议开发者根据需求进行调整。

14. **进一步学习**：
    - 作者推荐了他的CSS课程《CSS for JavaScript Developers》，该课程包含交互式文章、演示和练习，帮助开发者深入学习CSS。
