# Access Control Syntax – journal.stuffwithstuff.com
- URL: https://journal.stuffwithstuff.com/2025/05/26/access-control-syntax/
- Added At: 2025-05-27 15:15:54
- [Link To Text](2025-05-27-access-control-syntax-–-journal.stuffwithstuff.com_raw.md)

## TL;DR


文章探讨了编程语言模块系统访问控制设计，对比Java/C++的修饰符、Python/Go的名称符号、ML的导出清单及Oberon的声明符号等方案。作者针对脚本语言特性，倾向默认公开、私有需主动声明，并最终选择保留字变体（如rec_标示私有类型）方案，以平衡简洁性、开发效率与语法负担，适配快速开发需求。

## Summary


该文章讨论了编程语言模块系统中的访问控制语法设计，对比了不同语言的方法并探讨了适用于作者正在开发的脚本语言的方案。

### 核心需求
- **模块系统设计**：要求模块内声明可区分公开（public）与私有（private），默认倾向简洁性以适合脚本语言特性，鼓励快速开发而非严格封装。
- **避免复杂性**：需最小化语法负担，适合小型应用而非大型基础设施项目。

### 语言实现方式对比

#### 1. 修改符关键字（如Java/C#/C++）
- **优点**：明确直观，支持多访问级别。
- **缺点**：冗长（需重复修饰符）、C++的访问控制分段可能导致上下文敏感问题。

#### 2. 名称符号（如Python/Go/Dart）
- **Python**：下划线前缀（单下划线为提示，双下划线实际私有但经过名称重整）。
- **Go**：大写字母开头为公开，依赖Unicode大小写规则。
- **Dart**：下划线前缀严格私有化，使用时需避免暴露符号。
- **缺点**：符号含义模糊，需额外学习；私有符号在使用点重复出现可能增加维护成本。

#### 3. 导出清单（如ML/Scheme）
- **优点**：模块接口与实现分离，集中管理导出项。
- **缺点**：冗余（需重复声明名称），名称与类型需同步维护，对动态语言不友好。

#### 4. 声明符号（如Oberon）
- **Oberon**：用`*`标记公开声明（默认私有），符号仅出现在声明处。
- **缺点**：符号含义不直观，可能干扰其他语法如运算符定义。

### 作者语言的设计倾向
- **默认公开**：鼓励开发效率，私有需主动声明。
- **弃用方案**：
  - 导出清单（冗余、增加语言复杂度）；
  - 修饰符分段（仅对面向对象结构有效，非类语言不适用）；
  - 名称符号（如Go/Dart）因需在使用点重复符号被排除。
- **候选方案**：
  - **保留字变体**：通过关键字后缀（如`def_`表示私有函数）实现，零额外语法开销但需新增保留字；
  - **符号标记**：类似Oberon的`*`符号，但因可能干扰运算符而调整为关键字级符号。

### 最终选择
倾向使用**保留字变体**（如`rec_`表示私有记录类型），尽管增加保留字数量，但避免符号混淆且实现简洁。需权衡直观性与语法创新的接受度。
