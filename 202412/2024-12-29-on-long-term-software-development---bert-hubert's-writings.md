# On Long Term Software Development - Bert Hubert's writings 
- URL: https://berthub.eu/articles/posts/on-long-term-software-development/
- Added At: 2024-12-29 13:26:02

## TL;DR
Bert Hubert在荷兰选举委员会的演讲中强调了长期软件开发的重要性，核心原则包括保持代码简单、谨慎管理依赖、编写全面测试、详细记录设计决策、保持团队稳定性，并考虑开源以提高质量。他还推荐了多本经典书籍，帮助开发者应对长期项目中的挑战。

## Summary
1. **软件开发的长期性**：
   - **背景**：Bert Hubert受邀为荷兰选举委员会的开源投票软件Abacus进行演讲，探讨长期软件开发的重要性。
   - **对比**：
     - **持续交付模式**：现代软件通常通过持续集成和持续部署（CI/CD）进行更新，依赖自动化测试确保新版本的基本功能。
     - **长期稳定需求**：某些领域（如核电站、选举系统、医疗设备等）需要软件在几十年内保持稳定，且变更需预先公告和详细描述。

2. **长期软件开发的核心**：
   - **依赖管理**：
     - **依赖层级**：软件依赖分为外部世界（如浏览器）、编程语言、框架、数据库和辅助库。长期项目中，底层的依赖选择尤为重要。
     - **依赖风险**：依赖可能随时间变化、被弃用、被劫持或商业化，需谨慎评估每个依赖的可持续性、维护情况和安全性。
     - **运行时依赖**：避免依赖第三方服务（如S3、Firebase），因为这些服务可能在长期内无法找到替代品。
   - **测试的重要性**：
     - **全面测试**：尽可能多地编写测试，尤其是当依赖频繁变化时，测试能帮助及早发现问题。
     - **测试的价值**：测试不仅有助于重构和移除依赖，还能在长时间开发中断后验证系统的功能。
   - **复杂性控制**：
     - **复杂性是终极敌人**：随着代码量增加，复杂性会迅速失控，需通过重构、简化代码和删除冗余代码来应对。
     - **简单代码**：编写简单、直观的代码，避免过早优化和复杂技术，确保代码易于维护和调试。

3. **团队与文档**：
   - **团队稳定性**：保持团队成员的长期稳定性是确保软件质量的关键，避免依赖短期顾问。
   - **文档的重要性**：
     - **详细记录**：不仅记录代码，还需记录系统设计理念、决策背后的原因以及非直观设计的解释。
     - **代码注释**：代码中的注释应解释“为什么”而非“是什么”，提交信息也应清晰明了。

4. **开源与日志**：
   - **开源的优势**：开源代码能提高代码质量，迫使开发者保持高标准，同时吸引外部贡献。
   - **日志与监控**：良好的日志和性能监控能帮助发现和解决罕见问题，尤其是在软件不频繁更新的情况下。

5. **依赖健康检查**：
   - **定期检查**：定期评估依赖的健康状况，发现潜在问题或新功能，避免依赖变化带来的意外问题。

6. **推荐书籍**：
   - **经典书籍**：
     - 《The Practice of Programming》：涵盖编程实践中的基本原则。
     - 《The Mythical Man-Month》：软件工程领域的经典著作。
     - 《A Philosophy of Software Design》：现代软件设计理念。
     - 《Large Scale C++ Software Design》：大规模C++软件设计的经验分享。
   - **其他推荐**：
     - 《Kill It with Fire》：管理老化计算机系统的实践指南。
     - Lehman的软件演化定律：探讨软件生命周期中的演化规律。

7. **总结与建议**：
   - **核心原则**：
     - 保持简单，定期重构和简化代码。
     - 谨慎选择和管理依赖，定期检查依赖的健康状况。
     - 编写全面的测试，确保代码的稳定性和可维护性。
     - 详细记录系统设计和决策背后的原因。
     - 保持团队的长期稳定性，避免依赖短期顾问。
     - 如果可能，考虑开源以提高代码质量和透明度。
     - 实施良好的日志和性能监控，帮助发现和解决问题。

8. **致谢**：
   - **感谢Mastodon社区**：Bert Hubert感谢Mastodon用户提供的宝贵经验和反馈，这些建议极大地丰富了演讲内容。
   - **荷兰选举委员会**：感谢同事们的提问和反思，帮助完善了演讲材料。
