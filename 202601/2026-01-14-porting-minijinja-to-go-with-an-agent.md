# Porting MiniJinja to Go With an Agent
- URL: https://lucumr.pocoo.org/2026/1/14/minijinja-go-port/
- Added At: 2026-01-14 13:38:27
- Tags: #read #llm #agent

## TL;DR
作者通过AI代理在约45分钟内将MiniJinja从Rust移植到Go，使用测试驱动方法完成核心功能。过程中AI灵活调整设计以符合Go习惯，作者在细节上少量干预。移植成本约60美元，作者认为AI降低了跨语言门槛，但削弱了社区贡献的意义。

## Summary
作者Armin Ronacher在2026年1月14日使用AI代理（主要工具为Pi，后期切换为GPT-5.2 Codex）将MiniJinja（一个Rust实现的Jinja2模板引擎）移植到Go语言。整个过程仅花费约45分钟主动时间，代理总运行约10小时（其中3小时有监督）。

移植采用测试驱动方法：重用Rust的现有快照测试，按步骤验证词法分析器、解析器和运行时。代理自动构建了Go端工具来解析测试输入和快照，并通过分支功能管理进度。代理从字面移植转向行为移植，采用了更符合Go习惯的设计（如树遍历解释器和反射类型），但作者在错误消息匹配和语义细节（如HTML转义）上进行了干预。

最终，代理实现了功能覆盖，作者后续指导了文档化和代码整理。作者反思指出：AI使跨语言移植更便捷，降低了生态锁定的约束；测试和文档的价值可能超过代码本身；但AI移植削弱了社区贡献的社会意义。

会话统计显示：总消息2698条，工具调用1386次，成本约60美元。
