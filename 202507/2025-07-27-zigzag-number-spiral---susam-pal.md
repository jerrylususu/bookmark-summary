# Zigzag Number Spiral - Susam Pal
- URL: https://susam.net/zigzag-number-spiral.html
- Added At: 2025-07-27 13:44:12
- [Link To Text](2025-07-27-zigzag-number-spiral---susam-pal_raw.md)

## TL;DR


文章提出了计算Zigzag数字螺旋网格第m行第n列数值的闭合公式，通过分析边缘方向规律、行/列增减模式及对角线特性，最终以max(m,n)和(-1)^{max(m,n)}整合奇偶性差异，得出无需分段的统一表达式：f(m,n)=[max(m,n)]²−max(m,n)+1+(−1)^{max(m,n)}×(m−n)。

## Summary


文章探讨了如何为一种特殊的Zigzag数字螺旋网格找到闭合形式表达式，确定第m行第n列的数字。该螺旋每触达网格边缘即反转方向。主要结论如下：

1. **边缘分析**：
   - **左边缘**：偶数行第1列的数字为m²，奇数行第1列的数字为(m−1)²+1。
   - **顶边缘**：首行第n列的数字为n²（当n为奇数）或(n−1)²+1（当n为偶数）。

2. **全网格公式**：
   - **行方向**：奇数行向右递增到对角线，偶数行向右递减到对角线。
   - **列方向**：偶数列向下递增到对角线，奇数列向下递减到对角线。
   - 根据m和n的关系（m ≤ n或m ≥ n）及奇偶性，公式分为四类情况并简化为统一表达式。

3. **对角线分析**：
   - 对角线f(n,n)=n²−n+1（无论n奇偶）。
   - 结合对角线值与上下/左右距离，推导出与边缘分析相同的公式。

4. **闭合形式表达式**：
   利用max(m,n)、(-1)^{max(m,n)}统一处理奇偶性：
   f(m,n) = [max(m,n)]² − max(m,n) + 1 + (-1)^{max(m,n)} × (m−n)

该公式通过最大值函数整合了行或列主导的情况，指数项处理了方向反转的奇偶性差异，实现了无需分段的闭合表达。
