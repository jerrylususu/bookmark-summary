# Frequently Asked Questions (And Answers) About AI Evals – Hamel’s Blog
- URL: https://hamel.dev/blog/posts/evals-faq/
- Added At: 2025-07-05 07:36:04
- [Link To Text](2025-07-05-frequently-asked-questions-(and-answers)-about-ai-evals-–-hamel’s-blog_raw.md)

## TL;DR


文章提出，AI系统评估应围绕产品特性与具体领域设计，注重错误模式分析而非通用方法。建议采用二元评分、定制化工具提升效率，合理选择RAG检索策略，并分配30%资源优化评估流程。优先修复模型基础缺陷，避免盲从换模型；工程师需结合领域经验，通过拆解问题、构建轻量化评估器等系统化方法，实现高效调试与优化。

## Summary


1. **LLM评估的核心目标**：  
   产品特定的模型评估（非基础模型基准测试），需结合具体任务设计标注流程，重视错误模式分析而非单纯依赖现成工具。

---

2. **RAG（检索增强生成）的适用性**：  
   RAG未“死亡”，但需根据场景选择合适检索策略（如向量检索、关键词匹配或代理驱动检索）。编码应用中，简单的向量检索效果有限，Claude Code等使用代理驱动检索仍能有效整合上下文。

---

3. **模型复用原则**：  
   可用相同模型家族进行任务与评估，但需验证法官模型（LLM-as-Judge）在测试集上的真阳/真阴率。推荐优先选择强能力模型建立评估基准，后续再优化成本。

---

4. **模型选择策略**：  
   避免盲目更换模型，应先通过错误分析定位问题根源（如提示词缺陷或数据质量）。模型切换应基于实证，而非假设。

---

5. **标注工具选择**：  
   强烈建议定制化标注工具，可提升效率10倍以上。优势包括：多系统上下文整合、领域特异性渲染、工作流优化。仅在需协作标注时考虑现成工具。

---

6. **评估粒度**：  
   推荐二元（通过/失败）而非5分制评分。二元评估减少主观误差、加速标注，复杂数值评分可通过拆解为多个二元指标实现（如“包含4个关键事实”）。

---

7. **多轮对话调试方法**：  
   从整体任务达标性（pass/fail）判断开始，定位首次失败点。通过简化测试（N-1测试法）隔离问题，并用LLM模拟用户对话生成测试案例。

---

8. **自动评估器构建优先级**：  
   仅对反复出现的问题构建复杂评估器（如LLM-as-Judge），优先修复提示问题。低成本方法（如正则表达式、结构验证）应覆盖80%问题。

---

9. **标注团队规模**：  
   小团队建议任命“领域专家独裁者”主导标注，避免主观冲突。大型企业需用Cohen’s Kappa等指标评估标注者一致性。

---

10. **评估工具的常见缺口**：  
    需自研补充以下功能：  
    - 错误模式自动聚类分析（如语义搜索定位“人格语气不匹配”）  
    - LLM辅助标注（如分类建议、修正提示生成）  
    - 领域特异性评估指标（而非通用指标）  
    - 支持自定义标注工具的API接口

---

11. **合成数据生成技巧**：  
    定义结构化维度（如“饮食限制”“问题复杂度”），分步骤生成元组→自然语言提问，避免简单提示生成的同质化问题。优先解决模型基础能力缺陷而非生成冗余数据。

---

12. **多类型查询评估**：  
    以错误分析驱动评估设计，而非预先分类所有查询类型。关注跨查询的共性失败模式（如时间推理缺陷）。

---

13. **文档分块原则**：  
    固定输出任务（如信息提取）用大分块（保证上下文完整性），扩展输出任务（如摘要）用小分块（避免注意力衰减）。分块大小需实验验证。

---

14. **RAG系统评估**：  
    分检索（Recall@k等IR指标）与生成（LLM-as-Judge评估hallucination等）两部分。合成检索测试集需逆向生成（根据文档事实反推问题）。

---

15. **标注界面设计**：  
    基于领域优化渲染（如代码高亮、邮件视图）、进度可视化、快捷键导航，支持过滤/搜索聚类相似trace。保持界面极简主义，仅保留必要功能。

---

16. **评估资源分配**：  
    建议投入30%开发预算于评估工具和流程，避免“建造后再修补”模式。评估成本可降低长期调试代价。

---

核心观点：AI评估需围绕领域特异性设计，强调错误分析驱动、高效工具开发，以及工程师的判断力（非盲目套用通用方法论）。
