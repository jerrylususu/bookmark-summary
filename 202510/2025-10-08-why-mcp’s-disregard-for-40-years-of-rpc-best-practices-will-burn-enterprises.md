# Why MCP’s Disregard for 40 Years of RPC Best Practices Will Burn Enterprises
- URL: https://julsimon.medium.com/why-mcps-disregard-for-40-years-of-rpc-best-practices-will-burn-enterprises-8ef85ce5bc9b
- Added At: 2025-10-08 11:36:45
- [Link To Text](2025-10-08-why-mcp’s-disregard-for-40-years-of-rpc-best-practices-will-burn-enterprises_raw.md)

## TL;DR
MCP 被标榜为 AI 领域通用协议，但其设计忽视分布式系统的成熟经验，类型安全、状态管理、安全性和可观测性等方面存在缺陷，可能给企业带来安全漏洞、运维负担与集成风险，需尽快整合 RPC 工具链的最佳实践。

## Summary
Model Context Protocol（MCP）被宣传为“AI 领域的 USB-C”，旨在标准化 AI 工具交互，但其设计过分强调简单性，忽视了 40 年来分布式系统和远程过程调用（RPC）的关键最佳实践，可能给企业带来严重风险。文章深入分析了 MCP 的缺陷及其对企业部署的影响。

### **MCP 忽略的核心 RPC 经验**
1. **类型安全与数据序列化问题**：MCP 采用无模式的 JSON，缺乏强类型验证（如 XDR 或 IDL），导致运行时类型错误风险高。在金融、医疗或制造等领域，可能引发数据误解、交易错误或安全事件。
2. **跨语言一致性缺失**：类似 CORBA 的 OMG IDL 可确保多语言环境下的接口一致性，而 MCP 依赖各语言独立实现，导致序列化、错误处理和 Unicode 处理不一致，增加集成复杂度。
3. **状态管理与可扩展性不足**：MCP 混合有状态和无状态操作，缺乏 REST 风格的清晰语义、缓存机制或安全重试支持，难以实现水平扩展和负载均衡。
4. **合约与安全机制薄弱**：MCP 没有机器可读合约（如 WSDL），无法生成类型安全客户端或进行合规审计。虽然后期添加了 OAuth 2.1 支持，但初始版本缺乏企业级安全功能，stdio 传输甚至依赖环境变量传递凭证，存在安全隐患。
5. **可观测性与调试困难**：对比 gRPC 的内置分布式追踪、最后期限传播和丰富错误分类，MCP 缺乏追踪上下文传递、关联 ID 和标准化错误处理，导致生产环境调试耗时且复杂。
6. **成本与运维管理缺失**：MCP 未提供协议级成本归因（如令牌计数或配额管理），企业难以监控和优化 AI 资源消耗，类似 1990 年代的粗放管理。

### **第三方库生态的碎片化风险**
MCP 试图通过第三方库（如认证、追踪扩展）弥补缺陷，但这导致生态碎片化。企业需面对多个不兼容的库、维护不确定性及安全漏洞责任分散，增加了培训、审计和运维成本。

### **企业部署的实际隐患**
- **安全与合规风险**：认证和授权机制滞后，可能引发数据泄露或合规问题。
- **性能瓶颈**：JSON 序列化、缺乏连接池和二进制协议支持，限制高吞吐量场景。
- **动态运维困难**：缺乏服务发现、模式版本管理和容错机制，阻碍弹性部署。
- **追溯与归因挑战**：无法有效追踪请求链路或分配成本，影响故障排查和资源优化。

### **建议与展望**
MCP 需紧急融入分布式系统的成熟模式，包括：
- 强化类型安全、分布式追踪和错误处理。
- 完善安全授权、审计日志和模式版本控制。
- 添加服务发现、连接池和二进制协议支持。
- 实现双向流、速率限制和成本归因等企业级功能。

### **总结**
MCP 的“简单优先”设计适合实验，但无法满足生产环境要求。企业因 AI 热潮仓促采用后，可能面临系统故障、安全漏洞和运维噩梦。行业应吸取历史教训，避免重复错误，否则将导致生态碎片化和资源浪费。
