# Vibing a Non-Trivial Ghostty Feature
- URL: https://mitchellh.com/writing/non-trivial-vibing
- Added At: 2025-10-12 12:32:46
- [Link To Text](2025-10-12-vibing-a-non-trivial-ghostty-feature_raw.md)

## TL;DR
作者Mitchellh分享使用AI辅助开发Ghostty的非侵入式macOS自动更新功能。通过拆分任务、AI生成UI原型与代码框架，并在8小时内完成开发，强调AI作为辅助工具需人工主导审核，避免更新提示打断用户。

## Summary
本文作者Mitchellh分享了使用AI辅助开发Ghostty（一款终端应用）非侵入式macOS自动更新功能的全过程。该功能旨在避免更新提示打断用户工作，如在演示中弹出窗口干扰。

### 开发动机
- 起因：在一次OpenAI演示中，Ghostty的更新提示意外中断了直播，促使作者改进更新机制。
- 目标：创建非模态的更新提示，将其嵌入窗口标题栏或内容区域，避免焦点抢夺。

### 开发流程概述
1. **前期规划**：
   - 人工规划整体架构，确定使用Sparkle框架的API支持自定义UI。
   - 明确前端需在标题栏添加按钮，但对具体设计不确定，故利用AI进行原型探索。

2. **AI辅助开发阶段**：
   - **UI原型设计**：通过AI生成SwiftUI视图计划，并实现标题栏集成。AI生成的UI虽有细节问题，但提供了设计灵感。
   - **遇到障碍**：AI在解决标题栏布局冲突时多次失败，作者转向备选方案——将提示移至窗口右下角覆盖层。
   - **后端开发**：AI尝试填充后端代码框架但效果不佳，作者手动重构视图模型以优化结构。
   - **清理与优化**：通过多次会话清理代码、添加文档、模拟测试场景，并修复错误。
   - **最终集成**：AI协助连接前后端，并查漏补缺，提出改进建议。

3. **关键方法**：
   - **分步迭代**：将任务拆解为小模块（如仅规划、仅UI），便于控制和审查。
   - **人工主导**：强调AI作为助手，作者频繁介入修改、重构和审查，避免盲目接受AI输出。
   - **实用技巧**：使用AI生成模拟测试、填充代码框架、修复错误，并最后询问遗漏点。

### 成本与时间
- **成本**：16次AI会话，总费用15.98美元。
- **时间**：约8小时实际投入，作者利用AI并行处理任务（如做饭时运行会话），提升效率。

### 核心观点
- AI加速了开发，尤其在UI迭代等繁琐环节，但最终代码需人工审核确保质量。
- 作者倡导公开AI编程会话，以教育他人有效使用工具，并强调AI应作为辅助而非替代。
