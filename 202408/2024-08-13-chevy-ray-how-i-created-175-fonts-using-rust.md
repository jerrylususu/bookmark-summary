# Chevy Ray | How I Created 175 Fonts Using Rust
- URL: https://chevyray.dev/blog/creating-175-fonts/
- Added At: 2024-08-13 14:07:51
- [Link To Text](2024-08-13-chevy-ray-|-how-i-created-175-fonts-using-rust_raw.md)

## TL;DR
文章讲述了作者如何通过自学字体设计知识和开发Rust程序，创建并发布175个像素字体的全过程，包括字体设计的学习、照片参考的使用、Rust程序的开发与应用、字距调整的自动化、质量控制的改进以及最终的部署与发布。

## Summary
1. **字体创建背景**：
   - 决定不支持亚洲或非拉丁语言，因为不熟悉这些字符集，且难以达到所需质量，创建时间会大幅增加。
   - 未来希望创建支持更多语言的像素字体家族。

2. **样式变化**：
   - 观察到用户经常混合搭配字体，游戏UI需要大量视觉层次，像素字体难以平滑缩放，因此希望每个字体都能支持不同大小和重量。
   - 例如，Virtue字体家族包含20种样式，保持风格一致性的同时提供多样性。

3. **字距完整性**：
   - 之前的字体包中，字距调整非常耗时且易出错，手动输入每个字距对需要大量时间。
   - 新字体支持176个字符，可能需要输入多达37,976个字距对，因此决定半自动化此过程。

4. **质量控制改进**：
   - 管理大量字体是一项重大任务，之前手动处理，发现问题后手动修复、重新导出和上传。
   - 现在希望生成大样本文本和字距对的可视化，以便快速发现问题并立即修复。

5. **部署与维护简化**：
   - 通过自动化字距调整和质量控制，进一步自动化整个上传/部署过程，使未来改进、错误修复和新字体创建变得简单、无痛、可靠。

6. **提升标准**：
   - 之前的字体虽受欢迎且质量不错，但希望创造更令人印象深刻的产品，因此进行了改进。

7. **字体设计学习**：
   - 作为像素艺术家，虽制作了许多像素字体，但未系统学习过字体设计。
   - 在制作新字体时，大量学习字体设计知识，如阅读《Design School: Type》。

8. **照片参考**：
   - 拍摄并保存现实世界中的文本照片，如小店招牌、博物馆、艺术画廊、活动海报和书籍封面，作为灵感来源。
   - 这些参考用于研究字母形状、基线下方悬挂、字母粗细等。

9. **Rust程序开发**：
   - 为了实现目标，编写了自己的Rust程序`pifo`来创建像素字体。
   - 使用常规像素艺术工具设计字体，生成PNG图块表和配置文件，通过`pifo`处理生成TTF文件。

10. **程序工作原理**：
    - 将图像切割成单个字形图块，生成轮廓，自动计算字距对，并将所有内容收集到字体中导出为TTF文件。
    - 使用多个Rust库，如`clap`、`image`、`rayon`、`serde`、`glyph-names`、`ab-glyph`和`crunch`。

11. **创建字体表**：
    - 每个字体表包含图块表和配置文件，提供字体版本、基线、行间距、空格宽度等指标。

12. **字形轮廓**：
    - 将字形图像中的像素分离成集群，为每个集群创建轮廓，优化去除非角点，生成TrueType字形。

13. **字距表**：
    - 手动和自动计算字距对，手动系统用于覆盖自动系统不足之处。
    - 计算字距对时，逐像素移动字符，直到不接触为止，确定最佳字距值。

14. **导出**：
    - 生成TrueType文件，包含多个表，如`head`、`hhea`、`maxp`、`OS/2`、`hmtx`、`cmap`、`loca`、`glyf`、`kern`、`name`和`post`。
    - 导出字体为图块表和紧密打包的纹理图集，提供多种数据格式。

15. **质量测试**：
    - 生成巨大样本图像，显示所有字母和测试句子，检查字距对和标点符号组合，快速改进和调整字体。

16. **部署**：
    - 在itch.io上发布175个像素字体，使用`butler`命令行工具自动化部署过程。

17. **总结**：
    - 通过自己的Rust工具创建并发布175个像素字体，希望对学习Rust或对此类项目感兴趣的人有所帮助。
