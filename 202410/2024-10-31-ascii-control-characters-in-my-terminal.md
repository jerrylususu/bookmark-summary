# ASCII control characters in my terminal
- URL: https://jvns.ca/blog/2024/10/31/ascii-control-characters/
- Added At: 2024-10-31 14:37:32
- [Link To Text](2024-10-31-ascii-control-characters-in-my-terminal_raw.md)

## TL;DR
文章探讨了终端控制字符的用途、分类及其在不同操作系统中的处理方式，介绍了ASCII控制字符表和键盘快捷键冲突问题，并提供了识别和处理控制字符的工具和方法。作者认为这些内容虽有趣，但日常使用中了解基本控制字符功能即可。

## Summary
1. **终端控制字符概述**：作者对终端中的控制字符（如`Ctrl-A`、`Ctrl-C`、`Ctrl-W`等）感到好奇，并探讨了它们的用途和背后的机制。

2. **ASCII控制字符表**：
   - 提供了一个包含33个ASCII控制字符的表格，展示了它们在Mac OS上的功能。
   - 指出表格中存在许多注意事项和问题，并计划进一步讨论。

3. **控制字符的分类**：
   - **操作系统终端驱动处理**：如`Ctrl-C`发送`SIGINT`信号给当前程序。
   - **应用程序处理**：直接传递给应用程序，应用程序可以自由处理。
     - **键盘按键**：如`Enter`、`Tab`、`Backspace`。
     - **readline库使用**：许多代码的行为与`readline`库相似。
     - **其他代码**：如`Ctrl-X`在终端中无标准意义，但在emacs中使用广泛。

4. **控制字符数量**：
   - 只有33个控制字符，从A到Z加上7个额外字符。
   - 举例说明`Ctrl-1`等组合键在终端中无意义。

5. **ASCII名称的实用性**：
   - ASCII控制字符的名称（如`ETX`）最初用于电报机，与UNIX终端的用途不同。
   - 作者认为这些名称对现代终端用户不实用。

6. **键盘快捷键冲突**：
   - `Ctrl-M`与`Enter`相同，`Ctrl-I`与`Tab`相同，难以作为快捷键使用。
   - 举例说明某些用户仍使用这些组合键，但需配置终端模拟器。

7. **识别控制字符**：
   - 提供了一个Python脚本`echo-key.py`，用于打印键组合发送的控制字符。

8. **模式差异**：
   - `Ctrl-W`和`Ctrl-U`在“规范模式”和“非规范模式”下的处理不同。
   - 规范模式下，程序仅在按下`Enter`时接收输入；非规范模式下，程序立即接收输入。

9. **stty工具**：
   - 使用`stty`可以重新映射“操作系统终端驱动”代码和Backspace。
   - 举例说明`stty -a`显示的当前映射。

10. **信号处理**：
    - 如果`ISIG`终端模式关闭，操作系统不会发送信号。
    - BSD系统中，`Ctrl-T`发送`SIGINFO`信号。

11. **冲突问题**：
    - 不同系统部分可能使用相同的代码执行不同操作，如`Ctrl-S`冻结屏幕或进行前向搜索。

12. **Backspace的历史**：
    - 讨论了`Backspace`键发送的代码（127或8）及其在不同系统中的处理方式。
    - 提到Debian政策手册中关于键盘配置的详细说明。

13. **多样性和遗漏**：
    - 指出不同系统中控制字符的处理可能有所不同，并可能遗漏了一些细节。

14. **实用性反思**：
    - 作者认为虽然这些内容有趣，但不一定非常实用。
    - 强调在日常使用中，了解基本控制字符的功能即可。
