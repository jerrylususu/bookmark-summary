# Colophon
- URL: https://interconnected.org/home/2024/10/28/colophon
- Added At: 2024-10-29 14:11:46

## TL;DR
文章详细介绍了自建博客系统的技术架构、写作流程、持久性策略及其他功能，包括使用Markdown格式、Python的Flask和Jinja模板生成页面，以及通过GitHub和Working Copy进行移动端编辑。强调了网页持久性原则和自托管的控制与灵活性，同时提到了RSS订阅、邮件订阅、多人光标等特色功能。

## Summary
1. **博客发布技术**：
   - **自建博客系统**：每篇文章是一个以日期命名的目录中的文本文件，使用Markdown格式，包含一些元数据。
   - **构建步骤**：构建步骤创建一个sqlite数据库作为索引，用于存档页面、标签和反向链接。
   - **页面生成**：页面是普通的HTML，由一个轻量级应用组装，使用Python的Flask和Jinja模板。
   - **服务器配置**：网站由Apache2和mod_wsgi提供服务，托管在Digital Ocean的低配Ubuntu实例上。

2. **写作流程**：
   - **写作工具**：使用Ulysses进行写作，偶尔使用BBEdit完成。
   - **写作阶段**：分为想法捕捉、大纲/草稿和写作/编辑三个阶段，分别在不同时间和心情下进行。
   - **发布流程**：新文章保存为文件后，推送到GitHub，然后运行部署命令更新服务器文件并构建数据库。
   - **移动端编辑**：使用Working Copy应用在手机上添加文件到源代码控制，然后运行服务器上的更新脚本。

3. **博客持久性**：
   - **技术选择**：遵循网页持久性原则，注重数据（文章）和简单性，减少维护，避免因文章流行而恐慌，易于添加新功能。
   - **控制与灵活性**：选择自托管以获得更多控制，例如友好的RSS订阅，避免使用限制功能的博客系统。
   - **保守主义**：在某些方面保持保守，如仅在今年才添加图片支持，不计划频繁使用。

4. **其他功能**：
   - **RSS订阅**：RSS订阅源经过样式化，认为这对网页健康很重要，使用pretty-feed-v3.xsl。
   - **邮件订阅**：使用Buttondown服务，自动从RSS订阅源发送新闻通讯给约1,100名订阅者。
   - **多人光标**：网页上显示所有读者的光标，支持实时文本高亮和聊天。
   - **搜索功能**：网站搜索由DuckDuckGo提供。
   - **分析工具**：使用Fathom进行网页分析，符合GDPR标准，无Cookie横幅。
   - **样式设计**：使用系统字体作为正文字体，标题字体为Archivo，使用Tachyons CSS框架。

5. **历史与现状**：
   - **博客引擎变化**：博客引擎在过去24年中多次变化，遵循网页持久性原则，注重数据和简单性。
   - **当前设置**：自2020年4月起使用当前设置，之前的博客引擎可追溯到2008年，使用Python和CGI。
   - **个人评价**：认为自己的设置虽复杂但符合写作和阅读需求，维护和新功能添加的节奏良好。
