# CLAUDE.md: Best Practices Learned from Optimizing Claude Code with Prompt Learning
- URL: https://arize.com/blog/claude-md-best-practices-learned-from-optimizing-claude-code-with-prompt-learning/
- Added At: 2026-02-24 11:54:34
- Tags: #read #agent

## TL;DR
本文介绍了通过Prompt Learning技术优化Claude Code系统提示的方法。该方法利用LLM分析训练集表现并生成详细反馈，通过元提示迭代优化系统提示。实验表明，在SWE Bench基准测试中，优化后的提示使通用编码能力提升5.19%，针对特定代码库的优化效果更显著，提升达10.87%。该方法无需修改底层模型，仅通过优化提示即可提升性能。

## Summary
这篇文章介绍了如何使用Prompt Learning技术优化Claude Code的系统提示，以提升其在SWE Bench基准测试中的表现。核心方法是通过分析Claude Code在训练集上的表现，利用LLM生成详细的反馈，并基于这些反馈通过元提示（meta-prompting）迭代优化系统提示（如CLAUDE.md文件中的规则）。

**核心方法与流程：**
1.  **数据划分**：采用两种划分方式评估优化效果：
    *   **按仓库划分**：使用6个Python仓库的issue作为训练集，另外6个作为测试集，以测试通用编码能力的提升。
    *   **按仓库内划分**：使用Django仓库的历史issue按时间划分训练/测试集，以测试针对特定代码库的优化效果。
2.  **生成与评估**：在训练集上运行Claude Code生成代码补丁，运行单元测试，并利用LLM评估器生成详细的失败原因和改进建议（而不仅仅是标量分数）。
3.  **元提示优化**：将LLM的详细反馈作为输入，通过元提示让另一个LLM生成优化后的系统提示规则。
4.  **迭代与测试**：在测试集上验证优化后的提示效果，并重复此过程直至性能饱和或成本达标。

**主要结果：**
*   **通用能力提升**：在按仓库划分的测试中，Claude Code的准确率提升了5.19%。
*   **特定仓库优化**：在按仓库内划分的测试中，准确率提升了10.87%，证明了针对特定代码库进行优化的显著价值。

**关键结论：**
1.  **提示优化有效**：即使对于像Claude Code这样顶尖的编码代理，仅优化其系统提示也能带来显著的性能提升。
2.  **仓库特定优化实用**：针对开发者日常工作的代码库进行优化，能大幅提升代码生成质量，这种“过拟合”在实际工作中是优势。
3.  **无需改动底层模型**：所有改进仅通过优化提示实现，无需修改模型、工具或架构。
4.  **LLM评估提供丰富信号**：详细的LLM反馈比简单的分数更能指导优化方向。
5.  **方法通用**：该优化循环适用于任何可编辑系统提示的代理。
