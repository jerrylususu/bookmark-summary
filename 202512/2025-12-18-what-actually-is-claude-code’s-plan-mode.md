# What Actually Is Claude Code’s Plan Mode?
- URL: https://lucumr.pocoo.org/2025/12/17/what-is-plan-mode/
- Added At: 2025-12-18 15:20:18
- Tags: #read #llm
- [Link To Text](2025-12-18-what-actually-is-claude-code’s-plan-mode_raw.md)

## TL;DR
本文解析了Claude的“计划模式”，指出它通过系统提示和文件系统路径管理生成Markdown计划，依赖于UI实现审批流程。作者认为这一模式核心功能可通过自定义提示模拟，但集成UX是其独特之处，不过个人更偏好灵活的自然语言编辑方式。

## Summary
本文探讨了Claude Code中的“计划模式”（Plan Mode），作者Armin Ronacher分享了他作为非用户的探索过程，旨在理解该模式的工作原理和用户体验。

**计划模式的基本机制**：
- 计划模式本质上是让Claude代理生成一个Markdown格式的计划文件，保存在特定文件夹中。
- 代理在计划模式下处于只读状态，不能执行编辑或运行工具（除了操作计划文件本身）。
- 通过内置工具，代理可以进入或退出计划模式，并编辑自己的计划文件。
- 退出计划模式时，系统会读取计划文件内容，并提示用户审核批准。

**计划模式的工作流程**：
- 进入计划模式后，系统会注入自定义提示，引导代理分阶段工作：
  - **阶段1**：理解用户请求和代码，通过提问澄清需求。
  - **阶段2**：设计实现方案，记录背景信息和约束。
  - **阶段3**：审查计划，确保与用户意图一致。
  - **阶段4**：将最终计划写入文件，内容需简洁且包含关键文件路径。
- 核心依赖系统提示来约束行为，而非彻底改变工具权限。

**与自定义提示的对比**：
- 作者发现计划模式主要依赖额外提示和用户界面（UX）支持，其核心功能可通过手动复制类似提示到上下文模拟。
- 但计划模式的独特之处在于其集成UX：退出时会自动弹出审核界面，而自定义方法无法轻易复制此流程。
- 作者个人偏好通过编辑Markdown文件直接控制计划，认为自然语言交互更灵活，而计划模式的UI增加了不必要的复杂性。

**作者的动机**：
- 文章旨在探索代理工具中用户体验的实现方式——哪些需通过系统强制约束，哪些可自然由模型生成。
- 作者认为计划模式虽对部分用户有效，但对其而言，自定义文件编辑工作流更直观可控，计划模式的附加值有限，主要是结构化提示和示例。

总之，计划模式通过提示和文件系统路径管理实现计划生成，但其用户体验并非不可替代，取决于个人工作习惯。
