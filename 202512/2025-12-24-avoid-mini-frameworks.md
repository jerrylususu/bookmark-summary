# Avoid Mini-frameworks
- URL: https://laike9m.com/blog/avoid-mini-frameworks,171/
- Added At: 2025-12-24 13:59:10
- Tags: #read #tips
- [Link To Text](2025-12-24-avoid-mini-frameworks_raw.md)

## TL;DR
文章批判“迷你框架”因其常引入不必要复杂性，导致维护困难与效率下降。建议优先采用库或慎重设计新框架，避免包装现有技术栈以减少兼容性问题。

## Summary
这篇文章讨论了“迷你框架”（mini-frameworks）的问题，并基于作者在谷歌广告基础设施团队的经验，分析了其弊端和替代方案。

### 什么是迷你框架？
- 迷你框架由少数团队创建，旨在解决现有共享技术栈的痛点（如重复代码或性能问题）。
- 它包装了公司或组织共享的技术栈或框架，并引入新的概念。
- 创建者常宣称其能“神奇”解决多种问题，并推广给更多人使用。
- 关键区别：框架引入新概念，而库（如子类或工具函数）不会。

### 作者的亲身经历
- 作者团队在迁移代码时，经理提议在内部框架上添加抽象层以降低采用门槛。
- 尽管作者反对，团队仍花费数月构建该层，但迁移过程困难重重：抽象无法覆盖所有用例，需不断修补；新代码编写耗时增加，团队抱怨使用困难。
- 最终，迷你框架反而降低了效率，连内部团队都深受其害。

### 为什么迷你框架有害？
1. **缺乏功能完整性和兼容性**：无法完全隐藏复杂性，常无法处理20%的边缘用例，灵活性不足。
2. **违反“易于更改”（ETC）原则**：
   - 仅针对当前用例设计，难以适应未来需求变化。
   - 依赖原框架的实现细节，阻碍原框架的演进。
3. **反映创建者的心智模型，而非通用模型**：创建者可能过于固执己见，甚至出于自我满足，导致框架难以被他人理解。
4. **导致技术栈碎片化**：系统部分迁移，部分遗留，形成混乱的层次结构。
5. **缺乏维护**：通常由少数人创建，一旦他们离职，框架难以维护，且维护工作缺乏激励。

### 替代方案建议
- **核心原则**：避免创建迷你框架，优先选择库。谨慎引入新概念，以减少认知负荷。
- **如果必须创建框架**：
  - 将概念与具体业务需求关联，而非个人想法。
  - 从头构建新框架，而非包装现有框架，以避免兼容性问题。
  - 严肃对待决策：认识到创建框架是重大决定，需充分讨论和资源投入，避免草率行动。

总之，文章强调迷你框架常带来更多问题，推荐通过库或慎重的新框架设计来平衡抽象需求。
