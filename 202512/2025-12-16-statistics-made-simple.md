# Statistics made simple
- URL: https://tonsky.me/blog/clj-simple-stats/
- Added At: 2025-12-16 13:26:30
- Tags: #read
- [Link To Text](2025-12-16-statistics-made-simple_raw.md)

## TL;DR
作者开发了轻量级网站统计工具clj-simple-stats，替代复杂方案如Google Analytics。它通过中间件简化部署，智能分类访问并优化RSS计数，提供柱状图等准确图表。具备基础筛选功能，开源可自托管。

## Summary
本文介绍了作者开发的轻量级自托管网站统计工具clj-simple-stats。作者对统计数据的看法是：虽然不希望过度依赖分析数据影响创作，但仍需基础数据确保内容被阅读。工具针对自托管需求设计，避免使用Google Analytics等复杂方案。

主要特点：
- 极简设置：仅需在Clojure Ring栈中添加中间件即可自动收集和报告数据。
- 智能请求分类：区分真人访问、RSS订阅、机器人等，并优化RSS计数（同一读者每日多次请求计为一次）。
- 语义正确的图表：使用柱状图准确展示离散数据，避免连续线图的误导；坐标轴标签采用合理取整。
- 基础分析功能：支持按页面、查询参数、来源等筛选数据。

待完善功能：
- 流量峰值原因分析。
- 基于IP的国家分类（需解决GeoIP数据大小问题）。
- 有效识别外部引用来源。
- 性能优化：当前全库查询较慢，需预计算聚合数据。

工具开源在GitHub，提供在线示例。作者强调其轻量、隐私友好且适合类似自托管场景的用户。
