# How we improved availability through iterative simplification
- URL: https://github.blog/engineering/engineering-principles/how-we-improved-availability-through-iterative-simplification/
- Added At: 2024-07-24 14:39:10
- [Link To Text](2024-07-24-how-we-improved-availability-through-iterative-simplification_raw.md)

## TL;DR
文章讨论了GitHub如何通过使用Datadog、Splunk等工具和自定义监控器来提高系统可用性和性能，特别是在优化数据库查询和移除未使用代码方面取得了显著成效。强调了投资于可观察性和逐步变更的重要性，以及持续监控对于预防性能问题恶化的关键作用。

## Summary
1. **文章概述**：
   - 文章讨论了GitHub如何通过迭代简化提高系统的可用性，特别是在处理大规模系统时解决和预防问题的策略。

2. **方法和工具**：
   - GitHub使用多种工具来监控和优化系统性能：
     - **Datadog**：用于记录和分析事件的指标，帮助识别需要关注的区域。
     - **Splunk**：用于进一步分析事件的上下文，帮助故障排除。
     - **自定义监控器**：检测和报告MySQL中的慢查询和超时查询。
     - **Scientist**：用于测试和评估代码变更对性能的影响。
     - **Flipper**：用于控制变更的逐步推出，确保在出现问题时可以快速回滚。

3. **优化数据库查询**：
   - GitHub通过优化SQL查询解决了高超时问题，特别是在处理GitHub的命令调色板功能时。
   - 通过使用Scientist进行实验，确认了新的代码块提高了80-90%的性能。
   - 进一步优化包括消除不必要的SQL查询和批量处理访问检查，分别实现了40-80%和20-80%的性能提升。

4. **移除未使用的代码**：
   - 通过分析最繁忙的请求端点，GitHub发现并改进了一个可能导致性能问题的简单重定向操作。
   - 使用Flipper功能标志逐步推出变更，确认性能提升后，将变更推广到其他类似控制器。

5. **学习总结**：
   - 投资于可观察性是值得的，因为它能快速识别和解决问题。
   - 即使面对传统难题，特定用例的细微差异也可能提供新的解决方案。
   - 在解决问题时，应检查相邻代码，可能存在相关问题。
   - 性能问题是动态的，持续监控有助于在问题恶化前解决。
   - 通过可控的逐步变更和测量结果，可以安全地进行改进。

6. **相关内容**：
   - 文章提到了其他关于GitHub工程实践的文章，包括工程基础、MySQL升级、iOS应用测试时间减少等。

7. **探索更多**：
   - GitHub提供了文档、开发者技能资源、客户故事等，帮助用户深入了解和使用GitHub平台。

8. **订阅**：
   - 文章末尾提供了订阅GitHub新闻通讯的选项，以便获取更多技术指南和最佳实践。
